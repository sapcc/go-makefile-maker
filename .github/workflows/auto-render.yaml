################################################################################
# This file is AUTOGENERATED with <https://github.com/sapcc/go-makefile-maker> #
# Edit Makefile.maker.yaml instead.                                            #
################################################################################

name: Auto render
"on":
  push:
    branches:
      - main
    paths:
      - Makefile.maker.yaml
  schedule:
    - cron: '00 07 * * 1'
  workflow_dispatch: {}
permissions:
  contents: write
jobs:
  go-makefile-maker:
    name: go-makefile-maker
    runs-on: ubuntu-latest
    steps:
      - name: Check out code
        uses: actions/checkout@v3
      - name: Install go-makefile-maker
        run: go install github.com/sapcc/go-makefile-maker@latest
      - name: Run go-makefile-maker
        run: |2-
          export PATH=$PATH:$(go env GOPATH)/bin
          go-makefile-maker

      - name: Create Pull Request
        uses: peter-evans/create-pull-request@v4
        with:
          assignees: SuperSandro2000
          author: ${{ github.actor }} <${{ github.actor }}@users.noreply.github.com>
          body: |-
            Update report
            - Updated with *today's* date
            - Auto-generated by [create-pull-request][1]

            [1]: https://github.com/peter-evans/create-pull-request
          branch: auto-update/go-makefile-maker
          commit-message: Run go-makefile-maker
          committer: GitHub <noreply@github.com>
          delete-branch: true
          title: '[Cron] Run go-makefile-maker'
